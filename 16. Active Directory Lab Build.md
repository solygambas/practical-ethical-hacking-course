# Active Directory Lab Build

## Lab Overview and Requirements

16 GB of RAM at least

## Lab Build - (Cloud Alternative)

Azure: https://medium.com/@kamran-bilgrami/ethical-hacking-lessons-building-free-active-directory-lab-in-azure-6c67a7eddd7f

## Downloading Necessary ISOs

- https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise
- https://www.microsoft.com/en-us/evalcenter/download-windows-server-2019

## Setting Up the Domain Controller

- in vmware, add a new virtual machine with your server iso. We want the core, not the data center. No need to provide a product key. Uncheck power on.
- once created, in the machine settings, remove the floppy drive. Allow 4 GB of memory. Make sure that NAT is enabled.
- hit play. Press any key to boot, otherwise nothing will happen. Check your language preferences and install. Select `Standard Evaluation (Desktop Experience)`. Accept the terms and select custom install. Select the empty drive, click new and apply. Then, hit next to install.
- add an admin password, `P@$$w0rd!`. Send ctrl+alt+del with the vmware button, log in.
- click VM > install VMWare tools. Once prompted, open D drive, install the complete vmware tools on your server.
- search for view your PC name. Rename it to `HYDRA-DC`. Restart the server.
- log in. Click on Manage, `Add Roles and Features`. Let the default settings. For Server Roles, select `Active Directory Domain Services`. Hit next several times and then install.
- once done, click close and then on the yellow flag. Click on `Promote this server to a domain controller`. Select `Add a new forest` and name the root domain as `MARVEL.local`. Reuse the same password. Hit next several times and then install.

## Setting Up the User Machines

### User 1

- we need two user machines. One is OK if you're low on RAM or space.
- create a new virtual machine, use the windows 10 enterprise iso. Select windows 10 enterprise. No need to provide a product key. Uncheck power on.
- once created, in the machine settings, remove the floppy drive. Allow 4 GB of memory. Make sure that NAT is enabled.
- hit play. Press any key to boot, otherwise nothing will happen. Check your language preferences and install. Accept the terms and select custom install. Select the empty drive, click new and apply. Then, hit next to install.
- select your region and the keyboard layout. When asked for an email, click on `Domain join instead`. Give the name `Frank Castle` and the password `Password1`. Answer `Bob` to three security questions. Decline all the extra features.
- once logged in, click VM > install VMWare tools. Once prompted, open D drive, install the complete vmware tools on your computer.
- search for view your PC name. Rename it to `THEPUNISHER`. Restart the computer.

### User 2

- repeat the process for the second user machine. The user name could be `David Lieberman`, `Password2` for his password, and his machine could be `MICROCHIP`.

## Setting Up Users, Groups, and Policies

## Joining Our Machines to the Domain
